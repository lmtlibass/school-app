/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ (() => {

eval("\n    const API_URL = \"https://bhuprmvnemqneqrwprpn.supabase.co/rest/v1/school_app\"\n    const API_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzOTMwNTgxMiwiZXhwIjoxOTU0ODgxODEyfQ.qju7skRPAGkGzrag_7KX25VBqwdFhCEs94dLFfGEJcw\" \n\n\n\n        const btn = document.getElementById(\"ajouter\")\n        const afficheApprenant = document.querySelector(\".affiche-apprenant\")\n        const sauvegarder = document.getElementById(\"ajouter\")\n\n\n        let donnees = []\n       \n        let donnee = donnees [donnees.length - 1]\n\n        btn.addEventListener('click', (e) =>{\n            e.preventDefault()\n            let nom = document.getElementById(\"nom\")\n            let prenom = document.getElementById(\"prenom\")\n            let biographie = document.getElementById(\"bio\")\n            let niveau = document.getElementById(\"niveau\")\n            let competence1 = document.getElementById(\"competence1\")\n            let competence2 = document.getElementById(\"competence2\")\n            \n           \n            let newDonnees = {\n                nom : nom.value,\n                prenom : prenom.value,\n                bio: biographie.value,\n                niveau : niveau.value,\n                competence1 : competence1.value,\n                competence2 : competence2.value\n            } \n             donnees.push(newDonnees)\n             \n            \n            nom.value = \"\"\n            prenom.value = \" \"\n            biographie.value = \" \"\n            niveau.value = \" \"\n            competence1.value = \" \"\n            competence2.value =\" \"\n            \n           \n            apprenantAffiche(newDonnees.nom, newDonnees.prenom, newDonnees.bio, newDonnees.niveau)\n            \n            \n        })\n        \n\n/**********************Affficher donnees dans les cartes **************************** */\n\n    \n       \n        function apprenantAffiche(nom, prenom, bio, niveau, id){\n           \n            // donnees.forEach( (element,id) => {\n               \n            afficheApprenant.insertAdjacentHTML(\n                \"beforeend\",\n                `<div class=\"card\" style=\"width: 18rem;\" id = \"${\"carte\" +\"\"+id}\" >\n                <img src=\"/img/ex.png\" class=\"card-img-top\" alt=\"...\" >\n                <div class=\"card-body\">\n                <h5 class=\"card-title\"><span>${nom}</span><span>${prenom}</span></h5>\n                <p class=\"card-text\">${bio}</p>\n                <p class=\"niveau card-text\">${niveau}</p>\n                <div class=\"card-icone d-flex flex-row  justify-content-between\">\n\n                <button href=\"#\" class=\"btn btn-outline-success modifier\" id = \"${id}\" ><i class=\"bi bi-pen\"></i></button>\n                <button href=\"#\" class=\"btn btn-outline-danger supprimmer\" id = \"${id}\" ><i class=\"bi bi-x-circle\"></i></button>\n                </div>\n                </div>\n            </div>`\n            )  \n            modifierChamp()\n            deletecarte()\n        \n        }    \n       \n/**************************Modifier Carte******************************/\n\nfunction modifierChamp(){\n    \n    const modifier = document.querySelectorAll(\".modifier\")\n    modifier.forEach((element) =>{\n\n    element.addEventListener('click', ()=>{\n        \n        let nomModifier = document.createElement('input')\n        nomModifier.setAttribute(\"placeholder\", \"modifier prenom & nom*\")\n        let baliseh5 = document.querySelector(\".card-title\")\n        let balisep = document.querySelector(\".card-text\")\n        let bioModifier = document.createElement('textarea')\n    \n\n        let carteModifier = document.querySelectorAll(\".card-body\")\n        carteModifier.forEach((carte)=> {\n            carte.replaceChild(nomModifier, baliseh5)\n            carte.replaceChild(bioModifier, balisep)\n        \n            \n                element.addEventListener('click', ()=>{\n                    let nouveauNom = nomModifier.value\n                    let nouveauBio = bioModifier.value  \n                    carte.replaceChild(baliseh5,nomModifier)\n                    carte.replaceChild(balisep, bioModifier) \n                    baliseh5.innerHTML = nouveauNom\n                    balisep.innerHTML = nouveauBio\n            \n                })   \n\n            })\n        })\n    })\n}\n\n\n/************************Supprimmer Carte********************************** */\n\nfunction deletecarte(){\n    const annule = document.querySelectorAll(\".supprimmer\")\n    annule.forEach((elmt)=>{\n        elmt.addEventListener('click', ()=>{\n            let carte = document.querySelectorAll(\".card\")\n            carte.forEach((card)=>{\n                card.remove()\n            })\n            \n        })\n    })   \n}\n\n/********************************Sauvegarder dans supabase************************************ */\n\nsauvegarder.addEventListener('click', ()=>{\n\n    fetch(API_URL, {\n            method: \"POST\",\n            headers: {\n                apiKey: API_KEY,\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(donnees),\n        })\n         return donnees = []\n})\n\n\n/*******************************Afficher les cartes enregistrÃ©es********************************************************** */\n\nfetch(API_URL, {\n    headers: {\n      apikey: API_KEY,\n    },\n})\n    .then((response) => response.json(),)\n    .then ((donnes) => {\n      donnes.forEach((donnee) => showListe(donnee.id,donnee.nom, donnee.prenom, donnee.bio, donnee.niveau))\n      \n    })\n    \n      \n    \n\nfunction showListe(id,nom, prenom, bio, niveau){\n  const listeApprenant = document.querySelector(\".Liste\")   \n      listeApprenant.insertAdjacentHTML(\n          \"beforeend\", \n          `<div class=\"card\" style=\"width: 18rem;\">\n          <img src=\"/img/ex.png\" class=\"card-img-top\" alt=\"...\">\n          <div class=\"card-body\">\n          <h5 class=\"card-title\"><span>${nom}</span><span>${prenom}</span></h5>\n          <p class=\"card-text\">${bio}</p>\n          <p class=\"niveau card-text\">${niveau}</p>\n          <div class=\"card-icone d-flex flex-row  justify-content-between\">\n          <a href=\"#\" class=\"btn btn-outline-success\" id=\"${id}\" onclick = \"trt(${id})\" >Details<i class=\"bi bi-eye\"></i></a>\n          </div>\n          </div>\n      </div>`\n      )   \n  }  \n\n  /***************************************************************** */\n \n \n  function showdetails(nom, prenom, bio, niveau, competence1, competence2){\n    let detail = document.getElementById(\"detail\")\n        detail.insertAdjacentHTML(\n            \"beforeend\",\n            `<div class=\"card\" style=\"width: 18rem;\">\n            <img src=\"/img/ex.png\" class=\"card-img-top\" alt=\"...\">\n            <div class=\"card-body\">\n            <h5 class=\"card-title\"><span>${nom}</span><span>${prenom}</span></h5>\n            <p class=\"card-text\">${bio}</p>\n            <p class=\"niveau card-text\">${niveau}</p>\n            <p class=\"niveau card-text\">${competence1}</p>\n            <p class=\"niveau card-text\">${competence2}</p>\n            <div class=\"card-icone d-flex flex-row  justify-content-between\">\n            <a href=\"#\" class=\"btn btn-outline-success\" id=\"${id}\">Details<i class=\"bi bi-eye\"></i></a>\n            </div>\n            </div>\n        </div>`\n        )  \n\n    }\n\n    function trt(id){\n      fetch(`${API_URL}?id=eq.${id}`, {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            apiKey: API_KEY,\n            Prefer: \"return=representation\",\n        },\n    })\n        .then((response) => response.json())\n        // .then((donnee) => showdetails(donnee.id: donnee.nom, donnee.prenom, donnee.bio, donnee.niveau, donnee.competence1, donnee.competence2));\n\n\n    }\n   \n\n//# sourceURL=webpack://school-app/./src/app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/app.js"]();
/******/ 	
/******/ })()
;